<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://opensemanticsearch.org/doc/admin/config/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Configuration - Open Semantic Search</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Configuration";
        var mkdocs_page_input_path = "doc/admin/config/README.md";
        var mkdocs_page_url = "/doc/admin/config/";
      </script>
    
    <script src="../../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> Open Semantic Search
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">About</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Usage</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../search/">Search</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../search/operators/">Search operators</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../search/#overview-and-exploration-with-facets">Interactive filters (Faceted search)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../search/fuzzy/">Fuzzy search</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../datamanagement/annotation/">Tagging and annotation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Structuring data and documents (Metadata management)</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../datamanagement/thesaurus/">Vocabulary and thesaurus (dictionary of names or concepts)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../datamanagement/ontologies/">Lists, Dictionaries, Vocabularies and Thesauri (Ontologies)</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Analyze and explore (Analytics)</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../investigative_journalism/howto-analyze-leaks/">Investigate massive leaks for investigative reporting</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../analytics/law/">Legal codes and law clauses</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../search/list/">Search by list of names (batch searches)</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Administration</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../tutorial/">Getting started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../install/">Installation</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Configuration</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../queue/">Task queue</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="log/">Logs</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Additional Applications</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="/solr-search-csv-python-django/README.md">CSV Manager</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="/graph-explorer/README.md">Graph Explorer</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="/lexememes/README.md">Lexememes</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="/solr-ontology-tagger/README.md">Ontology Tagger</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="/solr-relevance-ranking-analysis/README.md">Relevance Ranking Analysis</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="/rdf2ocr/README.md">RDF or SKOS to OCR</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="/rss-feed-manager-python-django/README.md">RSS-Feed Manager</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="/search-list/README.md">Search Lists</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="/skos2solr/README.md">SKOS to Solr</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="/solr/README.md">Solr Server</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="/tagger/README.md">Tagger</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="/solr-search-querytagger-python-django/README.md">QueryTagger</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../download/">Download</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="https://github.com/opensemanticsearch/open-semantic-search/">Development</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../../donate/README.md">Donate</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">Open Semantic Search</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Administration &raquo;</li>
      <li>Configuration</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/opensemanticsearch/open-semantic-search/edit/master/docs/doc/admin/config/README.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="config">Config</h1>
<p>Standard installations and most parts should be usable out of the box without further configuration.</p>
<p>Many config options are set by a web user interface in the menu <em>Configuration</em>:</p>
<p><img alt="" src="../../../screenshots/config.png" /></p>
<p>So in most cases you don't have to configure complex (partially outdated) config file options described below:</p>
<h1 id="search-server">Search server</h1>
<h2 id="language-of-the-index">Language of the index</h2>
<p>If your language is not english and you don't use a localized package or virtual machine:</p>
<p>Most important because not changeable for yet indexed documents is to <a href="stemming">change the language for stemming</a> before indexing documents.</p>
<h1 id="user-interface">User interface</h1>
<h2 id="config-file">Config file</h2>
<p>The config file of the user interface is <strong><em>/etc/solr-php-ui/config.php</em></strong></p>
<h2 id="language-of-the-user-interface">Language of the user interface</h2>
<p>The default language is english.</p>
<p>To switch the language of the user interface to german set the option <strong><em>$language</em></strong> to <em>de</em>
<code># Set language to german
$language = "de";</code></p>
<h1 id="scheduler-starting-recrawls-automatically">Scheduler: Starting (re)crawls automatically</h1>
<p>If you don't use <a href="../../../trigger/filemonitoring">filemonitoring</a> (and even then you should sometimes recrawl, if something failed or was changed at a bad moment), you should recrawl data sources from time to time automatically.</p>
<p>If you use our connectors and want most flexibility use Cron and add a Cronjob using our <a href="../cmd">command line tools</a> into a Crontab or you call our <a href="../rest-api">webservice (REST-API)</a> from a script or another webservice (i.e. webcron).</p>
<h1 id="file-indexer">File indexer</h1>
<h2 id="config-file_1">Config file</h2>
<p>The config file for indexing files is <strong><em>/etc/opensemanticsearch/connector-files</em></strong>.</p>
<p>There you can enable OCR for images, like described below:</p>
<h1 id="data-enrichment-enrich-content">Data enrichment: Enrich content</h1>
<p><a href="../../data_enrichment">Enhancers enrich the content with additional data, metadata or analytics</a> (i.e. tags, OCR or named entity extraction), which helps to find better the original content, to filter or to navigate.</p>
<h2 id="ocr-automatic-text-recognition-in-graphical-formats">OCR (automatic text recognition in graphical formats)</h2>
<p>Automatic text recognition (OCR) is off by default, because it slows down indexing. It uses many processor ressources and will need many seconds for each graphic file.</p>
<h3 id="enable-ocr">Enable OCR</h3>
<p>(OCR is enabled by default in the virtual machine packages like Open Semantic Desktop Search or Open Semantic Search Appliance)</p>
<p>Install the package tesseract-ocr (included in your Linux distribution):
<code>apt-get install tesseract-ocr</code></p>
<p>If you enabled OCR, should enable OCR for images inside PDF files, too, since many PDF files are scans and do contain much text data only as graphics:</p>
<p>Add (uncomment) the PDF OCR Plugin::
<code>#Enable OCR for images inside PDF files
config['plugins'].append('enhance_pdf_ocr')</code></p>
<h3 id="ocr-language">OCR language</h3>
<p>Setting OCR language to an other language than english:
1. Install the tesseract language package (for german: <em>tesseract-ocr-deu</em>). See the list of available languages for <a href="https://packages.debian.org/search?keywords=tesseract-ocr">Debian</a> or <a href="http://packages.ubuntu.com/search?keywords=tesseract-ocr">Ubuntu</a>.
2. set option <em>ocr_language</em> to the language of your documents. Default is <em>eng</em> for english (in tesseract its <em>eng</em>, not <em>en</em>!). For german set <em>deu</em> (in tesseract its not <em>de</em>!):
`# language for automatic text recognition (ocr)</p>
<h1 id="configocr_lang-eng">config['ocr_lang'] = "eng"</h1>
<p>config['ocr_lang'] = "deu"`</p>
<p>Or set the OCR language to multiple languages, which are used in your documents:
<code># language for automatic text recognition (ocr)
config['ocr_lang'] = "eng+deu"</code></p>
<h2 id="enrich-with-metadata-from-rdf-sources-resource-desciption-framework">Enrich with metadata from RDF sources (Resource Desciption Framework)</h2>
<p>In <em>/etc/opensemanticsearch/enhancer-rdf</em> you can configure servers or services for metadata (like annotations or tagging) which is accessable as open standard RDF (Ressource Description Framework) and map them to Solr fields or facets.</p>
<h2 id="adding-custom-fields-custom-facets">Adding custom fields / custom facets</h2>
<p>To be able to use external, independent and modular tools and components writing directly to the Solr index, there is more than one place to configure mappings of new fields:
* Your metadata plattform (i.e. <a href="../../../enhancer/rdf-drupal">Drupal</a>) where you edit them or a scraping plattform where you read them saving the data in fields with fieldnames
* the connectors / importers and enhancers which read this data from the (meta) data source and write it to Solr
* and the user interface which reads this fields from Solr and shows them under a human readable label to the user.</p>
<p>You can configure additional facets (interactive filters):</p>
<h3 id="mapping-from-database-fields-or-rdf-properties-to-custom-fields-custom-facets-in-solr-within-the-connector-importer-enhancer">Mapping from database fields or RDF properties to custom fields / custom facets in Solr within the connector / importer / enhancer</h3>
<p>Config in which Solr-fields to write the additional data from the (meta)datasource:</p>
<p>If you use a RDF datasource, find out the name / URI (in semantic Web and RDF the "field name" is an url, too) of the external fields (i.e. a standard fields (like <em>Dublin core</em> metadata standard fields) or a <a href="../../../enhancer/rdf-drupal">custom field in Drupal</a>).</p>
<p>Add this external fieldnames or uris mapping them to a internal Solr field (standard fields, standard facets or <a href="../../../enhancer/rdf">additional custom facets</a>) in <em>/etc/solr/enancer-rdf</em>.</p>
<p>Example:<code>config['meta_property2facet'] = {
 'http://purl.org/dc/terms/location': 'location_ss',
 'http://semantic-mediawiki.org/swivt/1.0#specialProperty_dat': 'meta_date_dts'
}</code></p>
<h3 id="enable-additional-solr-custom-fields-custom-facets-in-the-user-interface">Enable additional Solr custom fields / custom facets in the user interface</h3>
<p>Config which of this new or additional Solr-fields should be shown in the user interface and under which caption:</p>
<p>Use the option <em>$cfg[facets]</em> in <em>config/config.php</em> to add custom facets in the user interface:
Setup additional Solr-fields (i.e. filled from below configurated connectors / importers or <a href="../../modules#enhancer">enhancers</a> like additional <a href="../../../enhancer/rdf">RDF Metadata</a> sources (i.e. your tagging and anntoation metadata server) or <a href="../../../solr-connector-scrapy">fields in which you write scraped data</a>) and map them a human readable title / label.</p>
<p>Example:<code>// Additional facets (f.e. fields imported by a connector or enhancer which should be shown as interactive filter in the sidebar)
$cfg['facets']['yourfacet_s'] = array ('label'=&gt;'Additional own facet');
$cfg['facets']['anotherfacet_s'] = array ('label'=&gt;'Another additonal facet');</code></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../install/" class="btn btn-neutral float-left" title="Installation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../queue/" class="btn btn-neutral float-right" title="Task queue">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/opensemanticsearch/open-semantic-search/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../install/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../queue/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme_extra.js" defer></script>
    <script src="../../../js/theme.js" defer></script>
      <script src="../../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
